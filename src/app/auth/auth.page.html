<ion-content padding>
    <ion-grid>
        <ion-row>
            <ion-col size="12" padding>

                <ion-card padding>
                    <ion-card-header class="ion-text-center" padding>
                        <ion-card-title color="primary">
                            {{ isLoginMode ? 'Entrar' : 'Cadastre-se' }} no Sistema
                        </ion-card-title>
                    </ion-card-header>

                    <ion-card-content>
                        <form [formGroup]="form" (ngSubmit)="onSubmit()">

                            <div class="form-group" *ngIf="!isLoginMode">
                                <label>Seu Nome</label> <br>
                                <input type="text" formControlName="name">
                            </div>

                            <div class="form-group">
                                <label>E-mail</label> <br>
                                <input type="email" formControlName="email">
                            </div>

                            <div class="form-group">
                                <label>Senha</label> <br>
                                <input type="password" formControlName="password">
                            </div>

                            <div class="form-group" *ngIf="!isLoginMode">
                                <label>Confirme sua Senha</label> <br>
                                <input type="password" formControlName="confirm_password">
                            </div>

                            <div class="buttons ion-text-center">
                                <ion-button type="submit" expand="block" color="primary" *ngIf="isLoginMode"
                                    [disabled]="form.get('email').hasError('required') || form.get('email').hasError('email') || form.get('password').hasError('required')"
                                >
                                    Entrar
                                </ion-button>

                                <ion-button type="submit" expand="block" color="primary" *ngIf="!isLoginMode"
                                    [disabled]="!form.valid"
                                >
                                    Cadastrar
                                </ion-button>

                                <p>OU</p>

                                <ion-button expand="block" fill="clear"
                                    (click)="isLoginMode = !isLoginMode"
                                >
                                    {{ isLoginMode ? 'Cadastrar' : 'Cancelar' }}
                                </ion-button>
                            </div>

                        </form>
                    </ion-card-content>
                </ion-card>

            </ion-col>
        </ion-row>
    </ion-grid>

    <ion-grid *ngIf="isLoginMode">
        <ion-row>
            <ion-col size="12" padding>
                <ion-card>
                    <ion-button expand="block" fill="clear" size="small" (click)="onForgotPassword()">
                        Esqueci minha Senha
                    </ion-button>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>
